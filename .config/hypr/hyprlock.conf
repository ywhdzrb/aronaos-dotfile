# Hyprlock 配置文件
# 基于官方示例修改，添加中文注释
# 更多配置选项参考：https://wiki.hyprland.org/Hypr-Ecosystem/hyprlock

# 所有小部件中的渲染文本都支持 pango 标记（例如 <b> 或 <i> 标签）
# 参考：https://wiki.hyprland.org/Hypr-Ecosystem/hyprlock/#general-remarks

# 清除密码缓冲区的快捷键：ESC, Ctrl+U, Ctrl+Backspace

# 字体设置
$font = Iosevka Nerd Font

# 通用设置
general {
    # 是否隐藏光标（true-隐藏，false-不隐藏）
    hide_cursor = true
}

# 取消注释以启用指纹认证
# auth {
#     fingerprint {
#         enabled = true
#         ready_message = 请扫描指纹解锁
#         present_message = 正在扫描...
#         retry_delay = 250 # 毫秒
#     }
# }

# 动画效果设置
animations {
    # 是否启用动画
    enabled = true
    # 贝塞尔曲线设置
    bezier = linear, 1, 1, 0, 0
    # 淡入动画
    animation = fadeIn, 1, 5, linear
    # 淡出动画
    animation = fadeOut, 1, 5, linear
    # 输入框点状动画
    animation = inputFieldDots, 1, 2, linear
}

# 背景设置
background {
    # 监视器（留空表示所有显示器）
    monitor =
    # 使用屏幕截图作为背景
    path = screenshot
    # 模糊处理次数
    blur_passes = 3
    # 可选：添加更多背景效果
    # blur_size = 8
    # noise = 0.0117
    # contrast = 1.3000
    # brightness = 0.8000
}

# 密码输入框配置
input-field {
    monitor =
    # 输入框大小（宽度, 高度）
    size = 250, 50
    # 边框粗细
    outline_thickness = 3
    # 内部颜色（rgba格式，最后一位是透明度）
    inner_color = rgba(0, 0, 0, 0.0) # 无填充
    
    # 外部颜色（渐变效果）
    outer_color = rgba(33ccffee) rgba(00ff99ee) 45deg
    # 验证成功时的颜色
    check_color = rgba(00ff99ee) rgba(ff6633ee) 120deg
    # 验证失败时的颜色
    fail_color = rgba(ff6633ee) rgba(ff0066ee) 40deg
    
    # 字体颜色
    font_color = rgb(143, 143, 143)
    # 输入为空时是否淡出
    fade_on_empty = false
    # 圆角半径
    rounding = 15
    
    # 字体设置
    font_family = $font
    # 占位符文本
    placeholder_text = 请输入密码...
    # 验证失败时显示的文本
    fail_text = 密码错误，请重试
    
    # 取消注释以使用字母而不是点来表示输入的密码
    # dots_text_format = *
    # 点的大小
    # dots_size = 0.4
    # 点之间的间距
    dots_spacing = 0.3
    
    # 取消注释以使用不显示密码长度的输入指示器（类似于swaylock的输入指示器）
    # hide_input = true
    
    # 位置设置（相对于屏幕中心）
    position = 0, -100
    # 水平对齐方式
    halign = center
    # 垂直对齐方式
    valign = center
}

# 显示当前时间
label {
    monitor =
    # 时间文本（使用变量替换）
    text = $TIME # 参考：https://wiki.hyprland.org/Hypr-Ecosystem/hyprlock/#variable-substitution
    # 字体大小
    font_size = 90
    # 字体
    font_family = $font
    
    # 位置（相对于屏幕中心）
    position = 0, 100
    # 水平对齐方式
    halign = center
    # 垂直对齐方式
    valign = center
}

# 显示当前日期
label {
    monitor =
    # 日期文本（每60秒更新一次）
    text = cmd[update:60000] date +"%Y年%m月%d日 %A" # 每60秒更新一次
    # 字体大小
    font_size = 25
    # 字体
    font_family = $font
    
    # 位置（相对于屏幕中心）
    position = 0, 30
    # 水平对齐方式
    halign = center
    # 垂直对齐方式
    valign = center
}

# 显示提示语
label {
    monitor =
    text = 输入密码后按回车解锁
    # 字体大小
    font_size = 16
    # 字体
    font_family = $font
    
    # 位置（相对于屏幕中心）
    position = 0, -160
    # 水平对齐方式
    halign = center
    # 垂直对齐方式
    valign = center
}

# 显示用户头像
image {
    monitor =
    # 用户头像路径（请替换为您的实际路径）
    path = ~/.face
    # 头像大小
    size = 100
    # 圆角（-1表示圆形）
    rounding = -1
    # 边框大小
    border_size = 4
    # 边框颜色
    border_color = rgb(8aadf4)
    
    # 位置（相对于屏幕中心）
    position = 0, 200
    # 水平对齐方式
    halign = center
    # 垂直对齐方式
    valign = center
}

# 显示用户名
label {
    monitor =
    # 欢迎文本（使用环境变量）
    text = 欢迎回来, $USER
    # 字体大小
    font_size = 25
    # 字体
    font_family = $font
    
    # 位置（相对于屏幕中心）
    position = 0, 300
    # 水平对齐方式
    halign = center
    # 垂直对齐方式
    valign = center
}

# 显示键盘布局（可选）
label {
    monitor =
    text = $LAYOUT[en,zh]
    font_size = 18
    # 点击切换键盘布局
    onclick = hyprctl switchxkblayout all next
    
    position = 0, -200
    halign = center
    valign = center
}